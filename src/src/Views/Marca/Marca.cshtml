
@{
    ViewData["Title"] = "Marca";
}

@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

<h2>Marca CRUD</h2>
<div class="row">
    @if (SignInManager.IsSignedIn(User))
    {
        <div class="col-md-10">
            <a class="btn btn-success" style="margin-bottom:10px" onclick="ShowPopup('@Url.Action("AddEditMarca", "Marca")')"><i class="fa fa-plus"></i> Adicionar nova Marca</a>
        </div>
    }
</div>
@if (SignInManager.IsSignedIn(User))
{
    <div class="row">
        <div class="col-md-10">
            <table id="gridMarca" name="gridMarca" class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th class="col-md-10">Marca</th>
                        <th class="col-md-2"></th>
                    </tr>
                </thead>
            </table>
        </div>
    </div>
}
else
{
    <div class="row">
        <div class="col-md-10">
            <table id="gridMarcaUserOff" name="gridMarcaUserOff" class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th class="col-md-10">Marca</th>
                    </tr>
                </thead>
            </table>
        </div>
    </div>
}

<script type="text/javascript">
    function Delete(id) {
        swal({
            title: "Tem certeza que deseja excluir?",
            text: "Não será possivel restaurar esse registro!",
            type: "warning",
            showCancelButton: true,
            confirmButtonColor: "#DD6B55",
            confirmButtonText: "Sim, exclua!",
            closeOnConfirm: true
        }, function () {
            $.ajax({
                type: 'DELETE',
                url: '/api/marca/' + id,
                success: function (data) {
                    if (data.success) {
                        ShowMessage(data.message);
                        dataTable.ajax.reload();
                    }
                }
            });
        });
    }

</script>

@section Scripts{
    @await Html.PartialAsync("_ValidationScriptsPartial")
    <script src="~/js/views/marca.js"></script>
}

